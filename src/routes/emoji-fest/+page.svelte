<script>
import {width, height} from '$lib/store'
let script = `let sketch = function(p) {
  let x = 200;
  let y = 200;

  p.setup = function() {
    p.createCanvas(window.innerWidth, window.innerHeight);
    p.background('white');
  };

  p.draw = function() {
    x += (Math.random() - 0.5) * 5;
    y += (Math.random() - 0.5) * 5;
    p.fill('blue');
    p.textSize(80);
    p.text('üëæ', x, y);
  };

  p.windowResized = function(){
    p.resizeCanvas(window.innerWidth, window.innerHeight);
    p.setup()
  };
};

let myp5 = new p5(sketch);`

let code = `<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Hello world!</title>


    <!-- import p5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js"><\/script>

  </head>
  <body>
    <style>
        body{
            margin: 0;
        }
        </style>
   <script type='module'>${script}<\/script> 
    </body>
</html>
`

   



</script>

<div style='width: 100%; 
display: flex;
flex-direction: column;
align-items: center;
min-height: 100svh;
background: #f9f9f9;
padding: 10px;
box-sizing: border-box;'>
<div class='container'>
    <div class='scriptContainer'>
        <iframe srcDoc={code} sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation" title='code'/>
    </div>
<h1>Emoji Fest</h1>
<p>–§–µ—Å—Ç–∏–≤–∞–ª—å –≠–º–æ–¥–∑–∏ - –∫—É—Ä—Å –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, –≥–¥–µ –∏–∑—É—á–∞—é—Ç—Å—è –æ—Å–Ω–æ–≤—ã HTML, CSS, JavaScript –∏ p5.js. –ù–∞ –∫–∞–∂–¥–æ–º –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –∑–∞–Ω—è—Ç–∏–π —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã. –ö—É—Ä—Å –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∑–Ω–∞–∫–æ–º–∏—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º - –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –∞ —Ç–∞–∫–∂–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.</p>
</div>
</div>

<style>
    .container{
        width: 100%;
        max-width: 800px;
        padding: 10px;

        display: flex;
        flex-direction: column;
        align-items: center;
    }

    iframe{
        margin: 0;
        padding: 0;
        border: 0;
        width: 100%;
        height: 300px;
        overflow: hidden;
        touch-action: none;
    }

    .scriptContainer{
        width: min(100%, 800px);

    }
</style>